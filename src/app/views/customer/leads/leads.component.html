<app-loader *ngIf="loading"></app-loader>
<div>
    <div class="mt-2">
        <h3 class="text-center text-muted">LEADS</h3>
    </div>
    <div>
        <button class="btn btn-success float-right">Add Lead</button>
    </div><br>
    <br>

    <div>
        <div class="row">
            <div class="col-md-3" *ngFor="let lead of leads">
                <div class="card p-4 lead-card text-center cursor-pointer">
                    <h5>{{lead.firstName}} {{lead.lastName}}</h5>
                    <p><i class="fa fa-phone"></i> {{lead.phone}}</p>
                    <p><i class="fa fa-envelope"></i> {{lead.email}}</p>
                    <div class="contacts-dropdown side-ellipsis dropdown-div" ngbDropdown [placement]="!isRTL ? 'bottom-right' : 'bottom-left'">
                        <div ngbDropdownToggle style="width:7px" class="cursor-pointer"> 
                            <button class="btn btn btn-sm btn-default icon-btn borderless btn-round md-btn-flat hide-arrow">
                            <span class="fa fa-ellipsis-v"></span>
                            </button>   
                        </div>
                        <div ngbDropdownMenu [class.dropdown-menu-right]="!isRTL">
                            <a class="dropdown-item" [routerLink]="['/main/conversations', lead.id]">View Converstaions</a>
                            <a class="dropdown-item" (click)="open(convo)">Add Converstaion</a>
                            <a class="dropdown-item" (click)="convertToCustomer(lead.id)">Convert To Customer</a>
                        </div>
                    </div>                
                </div>
            </div>
        </div>
    </div>
</div>

<ng-template #convo>
    <div class="card p-4">
        <div class="form-group">
            <label class="form-label">New message</label>
            <input class="form-control">
        </div>
        <div>
            <button class="btn btn-primary float-right">Add</button>
        </div>
    </div>
</ng-template>